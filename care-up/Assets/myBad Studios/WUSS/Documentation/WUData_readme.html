<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Untitled Document</title>
<style type="text/css">
<!--
body {
	font: 100%/1.4 Verdana, Arial, Helvetica, sans-serif;
	background-color: #42413C;
	margin: 0;
	padding: 0;
	color: #000;
}

/* ~~ Element/tag selectors ~~ */
ul, ol, dl { /* Due to variations between browsers, it's best practices to zero padding and margin on lists. For consistency, you can either specify the amounts you want here, or on the list items (LI, DT, DD) they contain. Remember that what you do here will cascade to the .nav list unless you write a more specific selector. */
	padding: 0px;
	margin: 40px;
}
h1, h2, h3, h4, h5, h6, p {
	margin-top: 0;	 /* removing the top margin gets around an issue where margins can escape from their containing div. The remaining bottom margin will hold it away from any elements that follow. */
	padding-right: 15px;
	padding-left: 15px; /* adding the padding to the sides of the elements within the divs, instead of the divs themselves, gets rid of any box model math. A nested div with side padding can also be used as an alternate method. */
}
a img { 
	border: none;
}

/* ~~ this fixed width container surrounds all other elements ~~ */
.container {
	width: 960px;
	background-color: #FFF;
	margin: 0 auto; /* the auto value on the sides, coupled with the width, centers the layout */
}

.content {

	padding: 10px 50px;
	width: 860px;
}
.functionname {
	color: #FFF;
	background-color: #666;
	vertical-align: top;
}

-->
</style></head>

<body>

<div class="container">
  <div class="content"><img align="left" style="padding:20px;" src="mbsIcon.png">
  	<h2><strong>Thank you for purchasing the<br>Wordpress User Data system</strong></h2>
	<p><div><em>NOTE:<br>
		This plugin extends the WordPress Login kit. As such, it requires that either:<ul><li>Both the </em><b>WordPress Login for MBSCore</b><em> kit and the </em><b>MBS Core</b><em> packages</li><li>...or the </em><b>WordPress Login</b><em> package</li></ul>...be installed before you install this kit.
	</em></p></p><p>&nbsp;</p><hr>
  	<h2>1. Preparation</h2>
	  	<p>The Wordpress User Data (WUD) package is a tad more abstract than the other kits in the series thus far as it brings a data storage and retrieval component to the table, not something visual.
	  	In order to enable the WUD system you need only do 2 things:
	  	
	  	</p><ol> <li>Install the kit into your project</li> <li> Upload, install and activate the wuss_data.zip file as a plugin on your Wordpress website (once only)<br>If you haven't done so yet, follow the instructions at the bottom of this Readme</li></ol>
  		That is all. You are now setup to use the kit.<br>NOTE: The player has to be logged in for this kit to work.
  		</p>
  		
	  	<h2>2. About this kit</h2>
	  	<p>To explain it very simply, the WUD kit allows you to store any string or number you want into an online database and allows you to fetch it back again.</p>
	  	<p>Variable names can be up to 32 characters long before it gets truncated. Values can be any number or string except scripting as all tags are removed once the value gets to the server to prevent code injection and attacks on the website</p>
	  	<p>All data is stored per player and thus when you fetch the data back again you are again fetching only the data related to the player.
	  	You never need to worry that any player will access and use the data of another player.</p>
	  	<p>With that being said, data is always saved under two separate categories. The first is a numeric value representing an individual game (game_id).
	  	The second is called a "category". Each game should have only one game_id and that should be configured inside the WPServer component.
	  	Each game can have as many categories as you want, though.</p>
	  	
	  	<p>This means you can store your data either globally for the current game or you could separate your data into groups and save each field as a value under a specific category.
	  	For insance, some settings could be saved under 'Settings' while others are saved under 'Stats' and yet others still under 'user_preferences'.
	  	Really, though, how many categories and what you call them is entirely up to you.</p>
	  	
	  	<h2>2.1 Update</h2>
		<p>After the initial release of the Wordpress User Data kit, people started asking for global settings that can be shared by all players. That functionality has since been added.
		All data is stored for and accessible only by the logged in user who owns the data. No user can access the data of any other user except for data stored globally for all users.</p><p>Typically this
		would not be something the players would change in game as all players will see the reflected values. It does, however, allow the developer to make changes to the game's settings after release
		and result in updates being immediately and automatically set for all players without the need to download any updates.
		</p>

	  	<h2>3. Saving data</h2>
	  	<p>The WUD plugin comes with a bunch of functions to simplify uploading and fetching data from the Wordpress server.
	  	When you update settings you can update only one field at a time or you can update as many as you like with only one restriction:<br>
	  	You can only update one category at a time.</p>
	  	
	  	<p>To store data to your database, follow these steps:<ol><li>Create a new cmlData variable (or use an existing one)</li>
	  	<li>Set the variables you want to create / update and their associated values</li>
	  	<li>Pass the variable to the WUData.UpdateCategory function</li></ol>
	  	That's that. If the variable already exists, it will be updated and if it doesn't exist it will be created but either way it is now ready for you to use.</p>
	  	
	  	<p>Example:<pre>
	  	cmlData
	  		GlobalSettings = new cmlData(),
	  		Settings = new cmlData();
	  	
	  	GlobalSettings.Set("ScreenName", "MrDude");
	  	GlobalSettings.Set("RealName", "DrDude"); 
	  	Settings.Setf("GlobalAudioVol", 0.7);
	  	Settings.Setf("VoiceVol", 0.9);
	  	Settings.Seti("Lives", playerLives);
	  	
	  	WUData.UpdateCategory("", GlobalSettings);
	  	WUData.UpdateCategory("Settings", Settings);
	  	</pre></p>
	  	
	  	<h2>4. Fetching data</h2>
	  	<p>To fetch the data from the server you need only call one of the numerous functions provided and specify a function that will parse the data that is returned from the server</p>
	  	<p>The choices that are provided allow you to fetch a single field from a category of your choice, or to fetch the entire category.
	  	Alternatively, fetch all the categories of the current game or fetch absolutely every single last bit of data stored for the current player.
	  	This includes all data stored for other games also so this allows you to give bonusses in one game from within another, or reward players for owning other titles (for example)...</p>
	  	
	  	<p>Game id 0 is reserved for global settings though so you should NOT give your games a game id of 0. This means that you can store game related info under the id of the game
	  	but also store user specific info for access within any game at any time. Need to know what his dog's name is? Or perhaps his girlfirend's name or marital status or favorite book...
	  	any info related to the player but not specific to any game, simply store it to the global settings. Global settings can also be separated into categories but, as with all games, categories are optional.</p>

		<p>NOTE: Global settings for the users are also considered private info and accessible only to that user. The WordPress User Data kit allows for global data to be stored for the game also but that is
		separate from the player's global data. The game's global data may or may not contain categories. Think of the game itself as being another player. That player's data is
		visible to everyone but everyone else's data is kept private and is only accessible to themselves.</p>
	  	
	  	<h2>5.Parsing fun</h2>
	  	<p>The data returned from the server is in the CML format meaning you can use any of CML's plethora of filtering and parsing functions to get to your data and, as always,
	  	CML can return your data to you already formatted as string, int, float, bool, Color, Vector3, Quaternion and Rect. The WUD system also provides you with a new subset of search functions
	  	specifically designed for this kit. This means that you now have two methods for getting to your data. If one doesn't suit your taste, simply use the other.</p>
	  	
	  	<p>Example: (Assumes the server's results are stored in <em>raw_data</em> and you have already extracted the game's node and stored it in <em>game</em>)<pre>
	  	<u>Using the WUD system's custom functions:</u>
	  	List&lt;cmlData&gt; categories =  WUData.ExtractCategoriesForGame(raw_data, game.ID);
	  		
	  	<u>Using CML's own functions</u>
	 	List&lt;cmlData&gt; categories = raw_data.Children(game.ID);</pre>Both will yield the same result so the choice is up to you which one you prefer to use.  Once you get familiar with the use of CML's functions
		you will find that you have far more control over the data that is returned to you. Use CML for total control over your returned data and use the Wordpress User Data kit's wrapper functions to get started 
		using the kit quickly. The wrapper functions are explained in section 6, below.
	  	</p>
	  	
	  	<h2>6. Available functions</h2>
	  	<p>
	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">FetchField(string field_name, string cat = "", System.Action<object> response = null, int gid = -1)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Fetches a single field from the database</td>
		</tr>
		<tr>
			<td>
			<strong>field_name</strong><br>The name of the field you wish to retrieve<br>
			<strong>cat</strong><br>The name of the category containing this field<br>
			<strong>response</strong><br>A function that will receive the response from the server. See below for response formats.<br>
			<strong>gid</strong><br>The id of the game this data belongs to.<br> 0 means global. -1 defaults to the value in WUServer.game_id<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">FetchCategory(string cat="", System.Action<object> response = null, int gid = -1)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Fetches a single category from the database</td>
		</tr>
		<tr>
			<td>
			<strong>cat</strong><br>The name of the category containing this field<br>
			<strong>response</strong><br>A function that will receive the response from the server. See below for response formats.<br>
			<strong>gid</strong><br>The id of the game this data belongs to.<br> 0 means global. -1 defaults to the value in WUServer.game_id<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">FetchGameInfo( System.Action<object> response = null, int gid = -1)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Fetches all categories of the specified game, including it's global variables catgory</td>
		</tr>
		<tr>
			<td>
			<strong>response</strong><br>A function that will receive the response from the server. See below for response formats.<br>
			<strong>gid</strong><br>The id of the game this data belongs to.<br> 0 means global. -1 defaults to the value in WUServer.game_id<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">FetchGlobalInfo( System.Action<object> response)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Fetches all categories of the non-game-specific global variables</td>
		</tr>
		<tr>
			<td>
			<strong>response</strong><br>A function that will receive the response from the server. See below for response formats.<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">FetchEverything(System.Action<object> response)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Fetches absolutely everything for this player including all global variable categories as well as all info for all games.</td>
		</tr>
		<tr>
			<td>
			<strong>response</strong><br>A function that will receive the response from the server. See below for response formats.<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">RemoveField(string field_name, string cat="", System.Action<object> response = null, int gid = -1)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Removes a single field from the database</td>
		</tr>
		<tr>
			<td>
			<strong>field_name</strong><br>The name of the field you wish to remove<br>
			<strong>cat</strong><br>The name of the category containing this field<br>
			<strong>response</strong><br>A function that will receive the response from the server. See below for response formats.<br>
			<strong>gid</strong><br>The id of the game this data belongs to.<br> 0 means global. -1 defaults to the value in WUServer.game_id<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">RemoveCategory(string cat="", System.Action<object> response = null, int gid = -1)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Fetches a single field from the database</td>
		</tr>
		<tr>
			<td>
			<strong>cat</strong><br>The name of the category containing this field<br>
			<strong>response</strong><br>A function that will receive the response from the server. See below for response formats.<br>
			<strong>gid</strong><br>The id of the game this data belongs to.<br> 0 means global. -1 defaults to the value in WUServer.game_id<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">RemoveGameData(int gid = -1, System.Action<object> response = null)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Removes all of the player's data for the game from the database</td>
		</tr>
		<tr>
			<td>
			<strong>gid</strong><br>The id of the game this data belongs to.<br> 0 means global. -1 defaults to the value in WUServer.game_id<br>
			<strong>response</strong><br>A function that will receive the response from the server. See below for response formats.<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">UpdateCategory(string cat, cmlData fields, int gid = -1, System.Action<object> response = null)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Updates a category with the fields provided. If the fields do not exist they are added.<br>
			The following fields are NOT added or updated as they hold special meaning to the kit: id, gid, cat, wuss, action, unity
		</tr>
		<tr>
			<td>
			<strong>cat</strong><br>The name of the category you want to place these variables under<br>
			<strong>fields</strong><br>A list of all the fields you wish to update / create along with their values<br>
			<strong>gid</strong><br>The id of the game this data belongs to.<br> 0 means global. -1 defaults to the value in WUServer.game_id<br>
			<strong>response</strong><br>A function that will receive the response from the server. See below for response formats.<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">List&lt;cmlData&gt; ExtractAllGames(CML raw_data)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Extracts only the _GAME_ nodes from raw_data. This provides you with the various game's gid value.</td>
		</tr>
		<tr>
			<td>
			<strong>raw_data</strong><br>Valid CML data obtained from the server<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">cmlData ExtractFirstGame(CML raw_data)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Extracts only the first _GAME_ node from raw_data. This provides you with the game's gid value.</td>
		</tr>
		<tr>
			<td>
			<strong>raw_data</strong><br>Valid CML data obtained from the server<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">ExtractAGameByField(CML raw_data, string field, string value)<br></td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Examines the global variables of all games found inside raw_data.
			If it finds one that contains the field in <em>field</em> and that field has the value specified by <em>value</em>, it returns it otherwise it returns null</td>
		</tr>
		<tr>
			<td>
			<strong>raw_data</strong><br>Valid CML data obtained from the server<br>
			<strong>field</strong><br>The variable the global settings must contain. Eg. "name"<br>
			<strong>value</strong><br>The value <em>field</em> must hold to be true. Eg. "PacMan"<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">cmlData ExtractAGameByName(CML raw_data, string name)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Examines the global variables of all games found inside raw_data.
			If it finds one that contains a field called "name" and it's value matches the value in <em>name</em> it returns that game node, otherwise it returns null</td>
		</tr>
		<tr>
			<td>
			<strong>raw_data</strong><br>Valid CML data obtained from the server<br>
			<strong>name</strong><br>The value this game's global variable "name" must hold to be true. Eg. "PacMan"<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">List&lt;cmlData&gt; ExtractCategoriesForGame(CML raw_data, int ID)<br>
			List&lt;cmlData&gt; ExtractCategoriesByGameName(CML raw_data, string name)</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Extract the categories for a specific game so you can access the fields contained within them</td>
		</tr>
		<tr>
			<td>
			<strong>raw_data</strong><br>Valid CML data obtained from the server<br>
			<strong>ID</strong><br>The ID of the _Game_ node you want the categories of. Note: Not the gid variable, but the node's actual ID!<br>Example:<br>
			cmlData PacMan = WUData.ExtractAGameByName(raw_data, PacMan");<br>
			if (null != PacMan) categories = ExtractCategoriesForGame(raw_data, PacMan.ID);<br>
			<strong>name</strong><br>First calls ExtractAGameByName then returns the categories found for that game node
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">cmlData ExtractCategoryFromGame(CML raw_data, string category_name = "", int id = 1)<br>
			cmlData ExtractCategoryFromGameName(CML raw_data, string category_name = "" , string game_name = "Global")</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Extracts only the specified category from the game</td>
		</tr>
		<tr>
			<td>
			<strong>raw_data</strong><br>Valid CML data obtained from the server<br>
			<strong>name</strong><br>The name of the category you want to extract<br>
			<strong>id</strong><br>The ID of the game node. Note: Not the gid value, but the game node's ID.<br>
			<strong>game_name</strong><br>The game to find via ExtractAGameByName before the category is extracted from it<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">string GetField(List&lt;cmlData&gt; categories, string field_name, string cat = "")<br>
			int GetFieldi(List&lt;cmlData&gt; categories, string field_name, string cat = "")<br>
			float GetFieldf(List&lt;cmlData&gt; categories, string field_name, string cat = "")</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Extracts a specific field from an extracted list of categories and returns it formatted as string or numeric data types</td>
		</tr>
		<tr>
			<td>
			<strong>categories</strong><br>A list of categories extracted from a game<br>
			<strong>field_name</strong><br>The field to look for<br>
			<strong>cat</strong><br>The category to look in for the field. Defaults to global category<br>
			</td>
		</tr>
		</table><br>

	  	<table width="828" border="1" cellspacing="2" cellpadding="2">
		<tr>
			<td class="functionname">string GetField(CML data, string field_name, string cat = "", int gid = 0)<br>
			float GetFieldf(CML data, string field_name, string cat = "", int gid = 0)<br>
			int GetFieldi(CML data, string field_name, string cat = "", int gid = 0)<br>
			string GetField(CML data, string field_name, string cat = "", string game_name = "")<br>
			float GetFieldf(CML data, string field_name, string cat = "", string game_name = "")<br>
			int GetFieldi(CML data, string field_name, string cat = "", string game_name = "")</td>
		</tr>
		<tr>
			<td bgcolor="#CCCCCC" class="table_header">Extracts a specific field from the server's response and returns it formatted as string or numeric data types</td>
		</tr>
		<tr>
			<td>
			<strong>data</strong><br>Valid CML data obtained from the server<br>
			<strong>field_name</strong><br>The field to look for<br>
			<strong>cat</strong><br>The category to look in for the field. Defaults to global category<br>
			<strong>gid</strong><br>The game this variable belongs to. Defaults to global settings<br>
			<strong>game_name</strong><br>The name of the game this variable belongs to. Defaults to global settings<br>
			</td>
		</tr>
		</table>
	  	</p>
<p><h2><u><em>NEW</em></u></h2>
<p>As of version 2.1, you now also have access to <em><strong>FetchSharedField, FetchSharedCategory, FetchAllSharedInfo, RemoveSharedField, RemoveSharedCategory</strong></em> and <em><strong>UpdateSharedCategory</strong></em>. These functions work exactly the same as the ones listed above except the data they operate on are those affecting all users instead of just a single player.</p>
<p>Example use include selecting what enemies must spawn on a certain level or what a user must do to complete a level etc. This will allow you to publish the game and then make changes to certain elements of the game afterwards without requiring your customers to download your product again. All changes are live to all players immediately (well, next time your application fetches that data).</p>

	<h2>7. Returned data structures</h2>
	<p>
	Depending on which action you take (which function you call), the response from the server will be different but it will still be standard.
	<pre>	 <u><strong>When fetching a single field:</strong></u>
	  &lt;DATA&gt;
	  	[success] true
	  	<_CATEGORY_>
	  		[category] name
	  		[requested field] value

	 <u><strong>When fetching a single category:</strong></u>
	  &lt;DATA&gt;
	  	[success] true
	  	<_CATEGORY_>
	  		[category] name
	  		[field 1] value
	  		[field n] value
	  		...

	 <u><strong>When fetching a single game:</strong></u>
	  &lt;DATA&gt;
	  <_GAME_>
	  	[gid] value
	  	<_CATEGORY_>
	  		[category] name
	  		[field 1] value
	  		[field n] value
	 		...
	  	<_CATEGORY_>
	  		...

	 <u><strong>When fetching everything:</strong></u>
	  &lt;DATA&gt;
	  <_GAME_>
	  	[gid] value
	  	<_CATEGORY_>
	  		[category] name
	  		[field 1] value
	  		[field n] value
	  		...
	  	<_CATEGORY_>
	  		...
	  <_GAME_>
	  	...
	  		
	  <u><strong>When removing a field, category or game</string></u>
	  &lt;DATA&gt;
	  	[success] true
	  		
	  <u><strong>When an operation failed</string></u>
	  &lt;DATA&gt;
	  &lt;status&gt;
	  	[success] false
	  	[message] Error message
</pre>
	</p>

	<h2>8. Installing the plugin</h2><table border=2><tr>
		<td class="functionname">Step 1. Log into your Wordpress dashboard and select &quot;Add new&quot; from the Plugins menu</td><td width=2>&nbsp;</td><td><img src="1SelectAddNew.png" width="300" height="92" alt="AddNewPlugin"></td></tr>
		<tr>
			<td class="functionname">Step 2. At the top of your screen, select &quot;Upload&quot;</td><td></td><td><img src="2SelectUpload.png" width="289" height="48" alt="Select upload"></td></tr>
		<tr>
			<td class="functionname">Step 3. Find the wuss_timer.zip file in Assets/myBad Studios/WUSS/Wordpress/Plugins and upload that to your website.</td>
			<td></td><td><img src="3FindFiled.png" width="411" alt="FindTheFile"></td></tr>
		<tr>
			<td class="functionname">Step 4. After it is uploaded it will ask you to activate the plugin. Do so and you are done...</td><td></td><td><img src="4Activate.png" width="242" height="115" alt="Activate"></td></tr>
		<tr><td colspan=3><img src="5Doned.png" width="783" height="58" alt="Enjoy"></td></table></p>
  </div>
  <!-- end .container --></div>
</body>
</html>
